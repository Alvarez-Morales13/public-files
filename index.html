<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Galaxia Corregida</title>
  <style>
    body { margin: 0; background: #000; overflow: hidden; }
    #galaxy-canvas { width: 100vw; height: 100vh; display: block; }
    .pill { position: fixed; top: 10px; left: 50%; transform: translateX(-50%); padding: 10px 20px; 
           background: rgba(255,255,255,0.1); border: 1px solid white; color: white; border-radius: 20px; z-index: 100; font-family: sans-serif; }
  </style>
  <script src="https://cdnjs.cloudflare.com"></script>
  <script src="https://cdn.jsdelivr.net"></script>
</head>
<body>

<div class="pill">Toca la pantalla para activar la galaxia ✨</div>
<canvas id="galaxy-canvas"></canvas>

<script>
  const canvas = document.getElementById('galaxy-canvas');
  const renderer = new THREE.WebGLRenderer({ canvas, antialias: true });
  renderer.setSize(window.innerWidth, window.innerHeight);
  renderer.setClearColor(0x020205); // Fondo azul muy oscuro para verificar carga

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 2000);
  camera.position.set(0, 50, 150); // Cámara posicionada para ver desde arriba

  const controls = new THREE.OrbitControls(camera, renderer.domElement);

  // Crear Galaxia
  const starGeo = new THREE.BufferGeometry();
  const starCount = 8000;
  const positions = new Float32Array(starCount * 3);

  for (let i = 0; i < starCount * 3; i++) {
    positions[i] = (Math.random() - 0.5) * 600;
  }
  starGeo.setAttribute('position', new THREE.BufferAttribute(positions, 3));

  // Material con puntos más grandes y brillantes
  const starMat = new THREE.PointsMaterial({ 
    size: 1.5, 
    color: 0xffffff, 
    transparent: true, 
    opacity: 0.8 
  });

  const stars = new THREE.Points(starGeo, starMat);
  scene.add(stars);

  function animate() {
    requestAnimationFrame(animate);
    stars.rotation.y += 0.001; // Movimiento constante
    controls.update();
    renderer.render(scene, camera);
  }
  animate();

  window.addEventListener('resize', () => {
    renderer.setSize(window.innerWidth, window.innerHeight);
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
  });
</script>
</body>
</html>
